<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Our Love Story üíñ</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@1,700;1,900&family=Outfit:wght@300;400;900&display=swap" rel="stylesheet">

<style>
:root{
--pink:#ff2d75;
--pink-light:#ff85a1;
--glow:#ff0055;
--dark:#0a0104;
}

*{box-sizing:border-box;margin:0;padding:0}

html,body{
height:100%;
overflow:hidden;
}

body{
font-family:'Outfit',sans-serif;
background:var(--dark);
color:white;
}

/* FIXED FULL HEIGHT FOR MOBILE */
.page{
position:fixed;
top:0;
left:0;
width:100%;
height:100vh;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
text-align:center;
opacity:0;
transform:scale(.95);
transition:.6s ease;
pointer-events:none;
padding:20px;
}

.page.active{
opacity:1;
transform:scale(1);
pointer-events:auto;
}

/* Background */
.bg{
position:fixed;
inset:0;
background:linear-gradient(45deg,#0a0104,#2d0514,#1a0209,#3d0a1d);
background-size:400% 400%;
animation:gradientMove 15s ease infinite;
z-index:-3;
}
@keyframes gradientMove{
0%,100%{background-position:0% 50%}
50%{background-position:100% 50%}
}

canvas{
position:fixed;
inset:0;
pointer-events:none;
z-index:-2;
}

/* Loader */
#loader{
position:fixed;
inset:0;
background:black;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
z-index:9999;
transition:1s;
}
.scan{
letter-spacing:5px;
color:var(--pink-light);
animation:blink 1s infinite alternate;
}
@keyframes blink{
from{opacity:.4}
to{opacity:1}
}

/* Glow */
.glow{
text-shadow:0 0 10px var(--pink),
0 0 20px var(--glow),
0 0 30px var(--pink);
animation:pulse 2s infinite alternate;
}
@keyframes pulse{
from{text-shadow:0 0 10px var(--pink);}
to{text-shadow:0 0 25px var(--glow),0 0 40px var(--pink);}
}

/* Buttons */
button{
padding:15px 40px;
border:none;
border-radius:100px;
background:linear-gradient(45deg,var(--pink),var(--pink-light));
color:white;
font-weight:bold;
cursor:pointer;
margin-top:25px;
box-shadow:0 0 20px var(--pink);
}

/* Gallery */
.gallery{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(120px,1fr));
gap:12px;
width:95%;
max-width:900px;
margin-top:30px;
}

.gallery img{
width:100%;
border-radius:18px;
opacity:0;
transform:translateX(-40px);
transition:.6s ease;
box-shadow:0 0 15px rgba(255,45,117,.3);
cursor:pointer;
}
.gallery img.show{
opacity:1;
transform:translateX(0);
}

/* Lightbox FULL FIX */
#lightbox{
position:fixed;
top:0;
left:0;
width:100vw;
height:100vh;
background:rgba(0,0,0,.97);
display:none;
justify-content:center;
align-items:center;
z-index:10000;
}

#lightbox img{
max-width:95vw;
max-height:90vh;
border-radius:20px;
}

/* Game */
#gameCanvas{
background:rgba(0,0,0,.6);
border-radius:20px;
margin-top:20px;
box-shadow:0 0 25px rgba(255,45,117,.4);
display:block;
}

</style>
</head>

<body>

<div class="bg"></div>
<canvas id="bgParticles"></canvas>
<canvas id="btnParticles"></canvas>

<!-- Loader -->
<div id="loader">
<h1 style="font-size:70px;">üíñ</h1>
<p class="scan">Scanning for soulmate...</p>
</div>

<!-- HOME -->
<div class="page active" id="home">
<h1 class="glow" style="font-family:'Playfair Display';font-size:clamp(2.5rem,8vw,5rem);">
My Love üíñ <br> Akshi
</h1>
<button onclick="burst(event); showPage('gallery')">Enter</button>
</div>

<!-- GALLERY -->
<div class="page" id="gallery">
<h1 class="glow">Our Memories üíï</h1>
<div class="gallery" id="galleryGrid">
<img src="1.png" onclick="openImg(this.src)">
<img src="suar.png" onclick="openImg(this.src)">
<img src="2.png" onclick="openImg(this.src)">
<img src="3.png" onclick="openImg(this.src)">
<img src="4.png" onclick="openImg(this.src)">
<img src="5.png" onclick="openImg(this.src)">
</div>
<button onclick="burst(event); showPage('game')">Next üíñ</button>
</div>

<!-- GAME -->
<div class="page" id="game">
<h1 class="glow">Catch 10 Hearts ‚ù§Ô∏è</h1>
<div>Score: <span id="score">0</span></div>
<canvas id="gameCanvas" width="320" height="400"></canvas>
</div>

<!-- PROPOSAL -->
<div class="page" id="proposal">
<h1 class="glow" style="font-size:2.5rem;">Will You Be My Valentine? üíç</h1>
<button onclick="burst(event); celebrate()">YES FOREVER ‚ù§Ô∏è</button>
</div>

<!-- SUCCESS -->
<div class="page" id="success">
<h1 class="glow" style="font-size:3rem;">YAAAY üíñ</h1>
<p>I LOVE YOU SO MUCH</p>
</div>

<!-- Lightbox -->
<div id="lightbox" onclick="closeImg()">
<img id="lightImg">
</div>

<script>

/* Loader */
setTimeout(()=>{
loader.style.opacity=0;
setTimeout(()=>loader.style.display="none",1000);
},2500);

/* Page Switch */
function showPage(id){
document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
document.getElementById(id).classList.add("active");

if(id==="gallery"){
let imgs=document.querySelectorAll("#galleryGrid img");
imgs.forEach((img,i)=>{
img.classList.remove("show");
setTimeout(()=>img.classList.add("show"),i*150);
});
}
}

/* Lightbox */
function openImg(src){
document.getElementById("lightImg").src=src;
document.getElementById("lightbox").style.display="flex";
}
function closeImg(){
document.getElementById("lightbox").style.display="none";
}

/* Game */
const gc=document.getElementById("gameCanvas");
const gctx=gc.getContext("2d");
const scoreSpan=document.getElementById("score");

let gameHearts=[];
let score=0;

class GameHeart{
constructor(){
this.x=Math.random()*(gc.width-30);
this.y=-30;
this.vy=Math.random()*2+2;
this.size=30;
}
update(){this.y+=this.vy;}
draw(){
gctx.font=`${this.size}px Arial`;
gctx.fillText("üíñ",this.x,this.y);
}
}

gc.addEventListener("click",handleClick);
gc.addEventListener("touchstart",function(e){
let t=e.touches[0];
handleClick({clientX:t.clientX,clientY:t.clientY});
});

function handleClick(e){
const r=gc.getBoundingClientRect();
const mx=e.clientX-r.left;
const my=e.clientY-r.top;

gameHearts.forEach((h,i)=>{
if(Math.hypot(h.x-mx,h.y-my)<25){
gameHearts.splice(i,1);
score++;
scoreSpan.textContent=score;
if(score>=10){
setTimeout(()=>showPage("proposal"),300);
}
}
});
}

function animateGame(){
gctx.clearRect(0,0,gc.width,gc.height);
if(Math.random()<0.04){
gameHearts.push(new GameHeart());
}
gameHearts.forEach((h,i)=>{
h.update();
h.draw();
if(h.y>gc.height)gameHearts.splice(i,1);
});
requestAnimationFrame(animateGame);
}
animateGame();

/* Celebration */
function celebrate(){
showPage("success");
}

</script>

</body>
</html>
