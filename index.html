<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Love üíñ</title>

<style>
body{
margin:0;
background:#0a0104;
color:white;
font-family:Arial;
text-align:center;
overflow-x:hidden;
}

/* LOADER */
#loader{
position:fixed;
inset:0;
background:black;
display:flex;
justify-content:center;
align-items:center;
flex-direction:column;
z-index:1000;
}
#loader h1{
font-size:70px;
animation:pulse 1.5s infinite;
}
@keyframes pulse{
0%{text-shadow:0 0 10px hotpink}
50%{text-shadow:0 0 40px deeppink}
100%{text-shadow:0 0 10px hotpink}
}

/* Sections */
section{
min-height:100vh;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
padding:40px;
}

/* Game */
#gameCanvas{
background:rgba(0,0,0,0.6);
border-radius:15px;
}

/* Button */
button{
padding:15px 40px;
font-size:18px;
border:none;
border-radius:50px;
background:hotpink;
color:white;
cursor:pointer;
}

#success{
position:fixed;
inset:0;
background:#0a0104;
display:none;
justify-content:center;
align-items:center;
flex-direction:column;
font-size:40px;
z-index:500;
}

canvas{
position:fixed;
inset:0;
pointer-events:none;
}
#gameCanvas{
position:static;
pointer-events:auto;
}
</style>
</head>
<body>

<div id="loader">
<h1>üíñ</h1>
<p>SCANNING FOR SOULMATE...</p>
</div>

<canvas id="bgCanvas"></canvas>
<canvas id="celebrateCanvas"></canvas>

<section>
<h1>My Love ‚ù§Ô∏è</h1>
</section>

<section>
<h2>Catch 5 Hearts</h2>
<p>Score: <span id="score">0</span></p>
<canvas id="gameCanvas" width="300" height="400"></canvas>
</section>

<section id="proposal" style="display:none;">
<h2>Will you be my Valentine?</h2>
<button onclick="celebrate()">YES ‚ù§Ô∏è</button>
</section>

<div id="success">
üíç YAAAY üíñ
</div>

<script>
/* LOADER */
setTimeout(()=>{
document.getElementById("loader").style.display="none";
},2000);

/* BACKGROUND HEARTS */
const bgCanvas=document.getElementById("bgCanvas");
const bgCtx=bgCanvas.getContext("2d");

function resizeBG(){
bgCanvas.width=window.innerWidth;
bgCanvas.height=window.innerHeight;
}
resizeBG();
window.addEventListener("resize",resizeBG);

let bgHearts=[];
for(let i=0;i<30;i++){
bgHearts.push({
x:Math.random()*bgCanvas.width,
y:Math.random()*bgCanvas.height,
speed:Math.random()*1+0.5
});
}

function animateBG(){
bgCtx.clearRect(0,0,bgCanvas.width,bgCanvas.height);
bgHearts.forEach(h=>{
bgCtx.font="20px Arial";
bgCtx.fillText("üíñ",h.x,h.y);
h.y-=h.speed;
if(h.y<0)h.y=bgCanvas.height;
});
requestAnimationFrame(animateBG);
}
animateBG();

/* GAME */
const gc=document.getElementById("gameCanvas");
const gctx=gc.getContext("2d");

let hearts=[];
let score=0;

class Heart{
constructor(){
this.x=Math.random()*gc.width;
this.y=-20;
this.speed=Math.random()*2+2;
}
draw(){
gctx.font="25px Arial";
gctx.fillText("‚ù§Ô∏è",this.x,this.y);
}
update(){
this.y+=this.speed;
}
}

function gameLoop(){
gctx.clearRect(0,0,gc.width,gc.height);
if(Math.random()<0.03)hearts.push(new Heart());
hearts.forEach((h,i)=>{
h.update();
h.draw();
if(h.y>gc.height)hearts.splice(i,1);
});
requestAnimationFrame(gameLoop);
}
gameLoop();

function clickHandler(e){
const rect=gc.getBoundingClientRect();
const x=(e.touches?e.touches[0].clientX:e.clientX)-rect.left;
const y=(e.touches?e.touches[0].clientY:e.clientY)-rect.top;

hearts.forEach((h,i)=>{
if(Math.abs(h.x-x)<20 && Math.abs(h.y-y)<20){
hearts.splice(i,1);
score++;
document.getElementById("score").innerText=score;

if(score>=5){
document.getElementById("proposal").style.display="flex";
window.scrollTo(0,document.body.scrollHeight);
}
}
});
}

gc.addEventListener("mousedown",clickHandler);
gc.addEventListener("touchstart",clickHandler);

/* CELEBRATION */
const celebrateCanvas=document.getElementById("celebrateCanvas");
const cctx=celebrateCanvas.getContext("2d");

function resizeCelebrate(){
celebrateCanvas.width=window.innerWidth;
celebrateCanvas.height=window.innerHeight;
}
resizeCelebrate();
window.addEventListener("resize",resizeCelebrate);

let particles=[];

function celebrate(){
document.getElementById("success").style.display="flex";
for(let i=0;i<100;i++){
particles.push({
x:window.innerWidth/2,
y:window.innerHeight/2,
vx:(Math.random()-0.5)*10,
vy:(Math.random()-0.5)*10,
life:1
});
}
animateCelebrate();
}

function animateCelebrate(){
cctx.clearRect(0,0,celebrateCanvas.width,celebrateCanvas.height);
particles.forEach((p,i)=>{
cctx.globalAlpha=p.life;
cctx.font="30px Arial";
cctx.fillText("üíñ",p.x,p.y);
p.x+=p.vx;
p.y+=p.vy;
p.vy+=0.2;
p.life-=0.02;
if(p.life<=0)particles.splice(i,1);
});
if(particles.length>0)requestAnimationFrame(animateCelebrate);
}
</script>

</body>
</html>
